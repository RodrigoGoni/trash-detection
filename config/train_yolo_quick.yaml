# YOLOv11 Training Configuration - Quick Test
# Configuración rápida para probar YOLOv11

experiment:
  name: "taco_yolo11s_test"
  tags:
    - "yolo11"
    - "yolo11s"
    - "class_weights"
    - "adamw"
  description: "YOLOv11-small test run on TACO dataset"

data:
  processed_dir: "./data/processed"
  batch_size: 16
  num_workers: 8
  img_size: 640
  dataset_version: "v1.0"
  
  preprocessing:
    normalize: true
    mean: [0.485, 0.456, 0.406]
    std: [0.229, 0.224, 0.225]
    bbox_format: "pascal_voc"
  
  augmentation:
    horizontal_flip_p: 0.5
    vertical_flip_p: 0.3
    shift_scale_rotate_p: 0.7
    shift_limit: 0.1
    scale_limit: 0.6
    rotate_limit: 90
    brightness_contrast_p: 0.6
    brightness_limit: 0.25
    contrast_limit: 0.25
    hue_saturation_p: 0.4
    hue_shift_limit: 15
    sat_shift_limit: 25
    val_shift_limit: 20
    blur_p: 0.3
    blur_limit: 5
    noise_p: 0.25
    cutout_p: 0.2
    cutout_max_holes: 3
    cutout_max_height: 40
    cutout_max_width: 40

model:
  name: "YOLOv11"
  model_size: "s"
  pretrained: true
  num_classes: 60

training:
  num_epochs: 50
  device: "cuda"
  
  optimizer:
    type: "adamw"
    lr: 0.001
    betas: [0.9, 0.999]
    weight_decay: 0.0005
    eps: 0.00000001
  
  scheduler:
    type: "cosine_annealing_warmup"
    warmup_epochs: 3
    min_lr: 0.0001
  
  loss:
    type: "cb_focal"
    use_class_weights: true
    class_weight_method: "effective"
    gamma: 2.0
    beta: 0.9999
    bbox_loss_weight: 1.0
    use_weighted_bbox: true
  
  use_amp: true
  grad_clip_norm: 10.0
  save_dir: "./runs/detect"
  save_best_only: true
  val_frequency: 1
  patience: 50

mlflow:
  tracking_uri: "./mlruns"
  experiment_name: "taco-object-detection"
  log_model: true
  log_artifacts: true
